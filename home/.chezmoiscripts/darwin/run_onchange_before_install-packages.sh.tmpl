#!/bin/bash

set -eufo pipefail

{{ $brews := list
    "mise"
    "autoconf"
    "uv"
    "openssl@1.1"
    "borgbackup"
    "bat"
    "curl"
    "direnv"
    "gleam"
    "fzf"
    "gh"
    "git"
    "helm"
    "jq"
    "just"
    "libdvdcss"
    "minikube"
    "podman"
    "openjdk"
    "neovim"
    "neonctl"
    "ripgrep"
    "rclone"
    "starship"
    "terraform"
    "tmux"
    "tree-sitter-cli"
    "wget"
    "xz"
    "zoxide" -}}

{{ $casks := list
    "raspberry-pi-imager"
    "ghostty"
    "copilot-cli"
    "tailscale-app"
    "discord"
    "obsidian"
    "raycast"
    "jetbrains-toolbox"
    "visual-studio-code"
    "font-hack-nerd-font"
    "zed"
    "1password"
    "1password-cli" -}}


brew bundle --file=/dev/stdin <<EOF
{{ range ($brews | sortAlpha | uniq) -}}
brew "{{ . }}"
{{ end -}}
{{ range ($casks | sortAlpha | uniq) -}}
cask "{{ . }}"
{{ end -}}
EOF
